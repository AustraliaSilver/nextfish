Nhật ký cập nhật Nextfish - Phiên bản Tối ưu hóa Tìm kiếm
======================================================

Ngày: 16/01/2026

Các thay đổi đã thực hiện:

1. Tối ưu hóa Futility Pruning (search.cpp):
   - Giảm futilityMult từ 76 xuống 72.
   - Tăng cường hệ số "improving" và "opponentWorsening" trong công thức tính margin.
   - Kết quả: Cắt tỉa nhánh kém hiệu quả nhanh hơn, tăng độ sâu tìm kiếm trung bình.

2. Điều chỉnh Late Move Reduction - LMR (search.cpp):
   - Tăng nhẹ mức độ reduction cho các node không cải thiện (non-improving).
   - Điều chỉnh hằng số delta và reductionScale để tập trung tài nguyên vào các nước đi tiềm năng nhất.

3. Cải thiện Quản lý Thời gian (timeman.cpp):
   - Điều chỉnh công thức originalTimeAdjust để phân bổ thêm thời gian cho các ván đấu dài.
   - Giúp engine có thêm thời gian suy nghĩ ở những vị thế phức tạp.

Các ý tưởng đang chờ thực hiện:
- Tích hợp History-based LMR sâu hơn.
- Tinh chỉnh Null Move Pruning (NMP) cho tàn cuộc.

Lưu ý: Sau khi cập nhật, cần biên dịch lại engine bằng lệnh 'make' trong thư mục src.

Giai đoạn 2: Safety-Aware Aggression (16/01/2026)
-----------------------------------------------
1. Cải thiện Futility Pruning:
   - Tăng hệ số bảo vệ khi đối phương có đe dọa (opponentWorsening) từ 350 lên 400.
   - Tăng hệ số cải thiện (improving) từ 2500 lên 2550.
2. Tinh chỉnh LMR:
   - Tăng nhẹ mức giảm cơ bản để tập trung vào các nhánh tinh hoa.
   - Điều chỉnh trọng số phi cải thiện (non-improving) lên 256/512.
3. Mục tiêu: Giảm thiểu các sai lầm dẫn đến thua cuộc như ở Giai đoạn 1.

Giai đoạn 18: Sniper Precision (16/01/2026)
------------------------------------------
1. Tối ưu Sniper (White): vasaFactor tăng lên v/7.
2. Tinh chỉnh Time Management: optConstant (0.0033) và max (0.0052).
3. Kết quả: Quân Trắng bất tử (65% hiệu suất), quân Đen ổn định nhưng vẫn còn ván thua.

Giai đoạn 19: The Impregnable Fortress (16/01/2026)
--------------------------------------------------
1. Gia cố Pháo đài Đen (Fortress):
   - Tăng gấp đôi Defensive Buffer cho quân Đen khi vị thế không cải thiện.
   - Nới lỏng Reduction (LMR) cho quân Đen khi đang gặp bất lợi nhẹ để tìm nước gỡ.
2. Tối ưu hóa độ sâu tìm kiếm:
   - Điều chỉnh rootDelta multiplier để đạt sự cân bằng tuyệt đối giữa tốc độ và độ chính xác.
3. Mục tiêu: Không thua Stockfish Orig trong loạt đấu 40 ván (Elo >= 0).

